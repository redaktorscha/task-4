{"version":3,"sources":["js\\table.js"],"names":["catsArray","sorted","Cat","name","weight","color","gender","age","push","createTable","arr","i","length","tbody","document","getElementById","row","createElement","prop","value","toString","cell","text","createTextNode","appendChild","removeTable","el","remove","tbody2","setAttribute","table","querySelector","propSorting","sort","x","y","propRevSorting","a","b","imgToggle","id","src","button","classList","toggle","clearButtons","nm","buttons","getElementsByTagName","getHeaderIndex","e","closest","target","cellIndex","highlighter","index","j","rows","cells","sortTable","p","state","onClick","thead","addEventListener"],"mappings":"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","file":"table.3437d5c4.map","sourceRoot":"..","sourcesContent":["var catsArray = [];\r\nvar sorted = {};\r\n// создает массив из объектов\r\nvar Cat = /** @class */ (function () {\r\n    function Cat(name, weight, color, gender, age) {\r\n        this.name = name;\r\n        this.weight = weight;\r\n        this.color = color;\r\n        this.gender = gender;\r\n        this.age = age;\r\n        catsArray.push(this);\r\n    }\r\n    return Cat;\r\n}());\r\nnew Cat('Thomas', 10, 'grey', 'male', 8);\r\nnew Cat('Kitty', 5, 'red', 'female', 2);\r\nnew Cat('Max', 6, 'white', 'male', 12);\r\nnew Cat('Angel', 3, 'black', 'male', 1);\r\nnew Cat('Bella', 4, 'white', 'female', 5);\r\nnew Cat('Tabby', 7, 'whiskas', 'male', 2);\r\nnew Cat('Daisy', 3, 'beige', 'female', 5);\r\nnew Cat('Misty', 5, 'grey', 'female', 3);\r\nnew Cat('Spotty', 8, 'spotted', 'male', 6);\r\nnew Cat('Tiger', 9, 'red', 'male', 4);\r\n// создание таблицы\r\nvar createTable = function (arr) {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        var tbody = document.getElementById('tbody');\r\n        var row = document.createElement('tr');\r\n        for (var prop in arr[i]) {\r\n            var value = arr[i][prop].toString();\r\n            var cell = document.createElement('td');\r\n            var text = document.createTextNode(value);\r\n            cell.appendChild(text);\r\n            row.appendChild(cell);\r\n        }\r\n        tbody.appendChild(row);\r\n    }\r\n};\r\n// удаление таблицы\r\nvar removeTable = function () {\r\n    var el = document.getElementById('tbody');\r\n    if (el) {\r\n        el.remove();\r\n    }\r\n    var tbody2 = document.createElement('tbody');\r\n    tbody2.setAttribute('id', 'tbody');\r\n    var table = document.querySelector('#table');\r\n    if (table) {\r\n        table.appendChild(tbody2);\r\n    }\r\n};\r\n// сортировка массива по возрастанию\r\nvar propSorting = function (arr, prop) {\r\n    arr.sort(function (x, y) {\r\n        return x[prop] > y[prop] ? 1 : x[prop] < y[prop] ? -1 : 0;\r\n    });\r\n};\r\n// сортировка массива по убыванию\r\nvar propRevSorting = function (arr, prop) {\r\n    arr.sort(function (a, b) {\r\n        return b[prop] > a[prop] ? 1 : b[prop] < a[prop] ? -1 : 0;\r\n    });\r\n};\r\n// смена картинки на кнопке\r\nvar imgToggle = function (id, src) {\r\n    var button = document.getElementById(id);\r\n    if (button) {\r\n        button.classList.toggle(src);\r\n    }\r\n};\r\n// возврат неактивных кнопок к первоначальной картинке\r\nvar clearButtons = function (nm) {\r\n    var buttons = document.getElementsByTagName('button');\r\n    for (var i = 0; i < buttons.length; i++) {\r\n        if (buttons[i].id !== nm) {\r\n            buttons[i].setAttribute('class', 'btn');\r\n        }\r\n    }\r\n};\r\n// поиск номера ячейки таблицы, которую нужно подсветить\r\nvar getHeaderIndex = function (e) {\r\n    var closest = e.target.closest('th');\r\n    return closest ? closest.cellIndex : -1;\r\n};\r\n// подсветка отсортированных колонок\r\nvar highlighter = function (index) {\r\n    var tbody = document.getElementById('tbody');\r\n    for (var j = 0; j < tbody.rows.length; j++) {\r\n        tbody.rows[j].cells[index].setAttribute('class', 'shadow');\r\n    }\r\n};\r\n// сортировка таблицы по заданным критериям\r\nvar sortTable = function (p) {\r\n    removeTable();\r\n    if (sorted.prop !== p || !sorted.state) {\r\n        propSorting(catsArray, p);\r\n        imgToggle(p, 'btn_asc');\r\n        sorted.state = true;\r\n    }\r\n    else {\r\n        propRevSorting(catsArray, p);\r\n        imgToggle(p, 'btn_desc');\r\n        sorted.state = false;\r\n    }\r\n    sorted.prop = p;\r\n    createTable(catsArray);\r\n    clearButtons(p);\r\n};\r\n// что происходит по нажатии на конкретную кнопку\r\nvar onClick = function (e) {\r\n    if (e.target.id) {\r\n        sortTable(e.target.id);\r\n        highlighter(getHeaderIndex(e));\r\n    }\r\n};\r\nvar thead = document.querySelector('#thead');\r\nif (thead) {\r\n    thead.addEventListener('click', function (e) {\r\n        onClick(e);\r\n    });\r\n}\r\ncreateTable(catsArray);\r\n"]}